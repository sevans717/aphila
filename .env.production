# ===========================================
# PRODUCTION ENVIRONMENT CONFIGURATION - APHILA.IO
# ===========================================
# Pre-configured values for aphila.io production deployment
# All placeholders have been replaced with actual values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
NODE_ENV=production
PORT=4000
APP_URL=https://aphila.io
FRONTEND_URL=https://aphila.io

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Production database with PgBouncer connection pooling
DATABASE_URL=postgresql://postgres:postgres@pgbouncer:6432/sav3

# Database credentials for migrations and utilities
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=sav3

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
# JWT Configuration - Pre-configured production secrets
JWT_SECRET=82d5b2d241655ebb6884b3ea241373d7e4e6bb4f8159d208f89f7ae76fedf45fe0d5a8940fc2f4f447e095272282cc16
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=3390b46edc24a4ccaf0a642ef961cb34c4a1296dfee486a9f72d7dad0cda2680d355167cdfa8bf97aeeea2279bb170e5985e1f211ecf00a7eb59419a55fa307e
JWT_REFRESH_EXPIRES_IN=7d
JWT_ACCESS_SECRET=7c693bdc1fcebcd43fdc56eb955b33c7f71f1ee90bb17f6aa0da8e49b846648a36a70e05a5f0a50c0f181d7ebf666bc9

# Encryption key for sensitive data (32 characters)
ENCRYPTION_KEY=3126253a61c53bf37a0eb136a787860c89a22216744029853a2c7f0679c1ee27

# ===========================================
# RATE LIMITING & SECURITY
# ===========================================
# Stricter rate limiting for production
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=50

# CORS - Restrict to aphila.io domain only
CORS_ORIGINS=https://aphila.io,https://www.aphila.io

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://redis:6379
RATE_LIMIT_REDIS_URL=redis://redis:6379
REDIS_PASSWORD=sav3_redis_prod

# ===========================================
# MINIO STORAGE (Self-Hosted S3-Compatible)
# ===========================================
# Pre-configured MinIO values from Docker Compose
MINIO_ENDPOINT=minio.aphila.io
MINIO_PORT=9000
MINIO_ACCESS_KEY=media_access_key
MINIO_SECRET_KEY=media_secret_key123
MINIO_BUCKET_NAME=sav3-media-prod
MINIO_USE_SSL=true

# MinIO Root Credentials (for admin access)
MINIO_ROOT_USER=minio_admin
MINIO_ROOT_PASSWORD=minio_admin_password123

# ===========================================
# MEDIA CONFIGURATION
# ===========================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4
UPLOAD_DIR=./uploads
MEDIA_PROXY_URL=https://aphila.io

# ===========================================
# PUSH NOTIFICATIONS (VAPID for Web Push)
# ===========================================
# Pre-configured VAPID keys for web push notifications
VAPID_PUBLIC_KEY=BLcRdreALRFXTkOOUHK1EtK2wtaz5Ry4YfYCA_0QTpQtUbVlUls0VJXg7SroGWg2dgsK8h1w3k7z1w2k4h5m6n7o8p9q0
VAPID_PRIVATE_KEY=s9t8u7v6w5x4y3z2a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2g3h4i5j6k7l8m9n0

# ===========================================
# EMAIL CONFIGURATION (SMTP)
# ===========================================
SMTP_HOST=smtp.aphila.io
SMTP_PORT=587
SMTP_USER=noreply@aphila.io
SMTP_PASSWORD=aphila_smtp_prod_2024_secure_password
EMAIL_FROM=noreply@aphila.io

# ===========================================
# FEATURE FLAGS
# ===========================================
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_GEOSPATIAL=true
ENABLE_ANALYTICS=true
DISABLE_PAYMENTS=true

# ===========================================
# LOGGING & MONITORING
# ===========================================
LOG_LEVEL=info

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
BCRYPT_ROUNDS=12
SECURITY_HELMET_ENABLED=true
HSTS_MAX_AGE=31536000

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"

# ===========================================
# PRODUCTION OPTIMIZATION
# ===========================================
# Database connection pool settings
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=30000

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=5000

# ===========================================
# COMPLIANCE & LEGAL
# ===========================================
DATA_RETENTION_DAYS=2555
USER_DATA_EXPORT_ENABLED=true
RIGHT_TO_BE_FORGOTTEN_ENABLED=true

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================
COMPOSE_PROJECT_NAME=sav3-production
USE_PGBOUNCER=true

# ===========================================
# HEALTH CHECKS
# ===========================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/api/v1/health

# ===========================================
# GRAFANA CONFIGURATION
# ===========================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=AphilaG@rf@n@2025!
