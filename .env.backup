# ===========================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# ===========================================
# This file contains development environment variables
# Safe to commit placeholder values, but never commit real secrets

# ===========================================
# SERVER CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=4000
APP_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Local development database (container connection)
DATABASE_URL=postgresql://postgres:postgres@db:5432/sav3

# Database credentials for migrations and utilities
POSTGRES_USER=test
POSTGRES_PASSWORD=test
POSTGRES_DB=sav3_test

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
# JWT Configuration - Development secrets (replace with strong ones for production)
JWT_SECRET=dev_jwt_secret_key_minimum_32_characters_long_for_development_only
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=dev_refresh_secret_key_minimum_32_characters_long_for_development_only
JWT_REFRESH_EXPIRES_IN=30d
JWT_ACCESS_SECRET=dev_access_secret_key_minimum_32_characters_long_for_development_only

# Encryption key for sensitive data (32 characters)
ENCRYPTION_KEY=dev_encryption_key_32_chars_long

# ===========================================
# RATE LIMITING & SECURITY
# ===========================================
# More permissive rate limiting for development
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1000

# CORS - Allow localhost origins for development
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379
RATE_LIMIT_REDIS_URL=redis://localhost:6379

# ===========================================
# MEDIA STORAGE (Local/MinIO for development)
# ===========================================
# Use MinIO for local development instead of AWS S3
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=sav3-media-dev
MINIO_USE_SSL=false

# AWS S3 (leave empty for development)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=

# Media configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4
UPLOAD_DIR=./uploads
MEDIA_PROXY_URL=http://localhost:4000

# ===========================================
# PUSH NOTIFICATIONS (VAPID for Web Push)
# ===========================================
# Pre-configured VAPID keys for development
VAPID_PUBLIC_KEY=BLcRdreALRFXTkOOUHK1EtK2wtaz5Ry4YfYCA_0QTpQtUbVlUls0VJXg7SroGWg2dgsK8h1w3k7z1w2k4h5m6n7o8p9q0
VAPID_PRIVATE_KEY=s9t8u7v6w5x4y3z2a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2g3h4i5j6k7l8m9n0

# ===========================================
# EMAIL CONFIGURATION (Local/MailHog)
# ===========================================
# Use MailHog for local email testing
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@sav3.dev

# ===========================================
# FEATURE FLAGS
# ===========================================
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_GEOSPATIAL=true
ENABLE_ANALYTICS=true
DISABLE_PAYMENTS=false

# ===========================================
# LOGGING & MONITORING
# ===========================================
LOG_LEVEL=debug

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Enable development helpers
DEBUG_ENABLED=true
SWAGGER_ENABLED=true
API_DOCS_PATH=/api-docs

# Hot reload and development tools
HOT_RELOAD_ENABLED=true
SOURCE_MAPS_ENABLED=true

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"

# ===========================================
# SECURITY HEADERS (Relaxed for development)
# ===========================================
SECURITY_HELMET_ENABLED=false
HSTS_MAX_AGE=0

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================
PROMETHEUS_METRICS_ENABLED=false
SENTRY_DSN=

# ===========================================
# DEVELOPMENT DATABASE
# ===========================================
# Separate test database for automated testing
TEST_DATABASE_URL=postgresql://postgres:dev_password@localhost:5432/sav3_test
TEST_JWT_SECRET=test_jwt_secret_key_minimum_32_characters_long_for_testing_only
TEST_REDIS_URL=redis://localhost:6379/1

# ===========================================
# COMPLIANCE & LEGAL (Development mode)
# ===========================================
DATA_RETENTION_DAYS=90
USER_DATA_EXPORT_ENABLED=true
RIGHT_TO_BE_FORGOTTEN_ENABLED=true

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================
COMPOSE_PROJECT_NAME=sav3-development
USE_PGBOUNCER=false

# ===========================================
# HEALTH CHECKS
# ===========================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/api/v1/health
